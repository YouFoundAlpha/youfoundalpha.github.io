<!DOCTYPE html>
<html>
<head>
    <script>
        function checkAndRedirect() {
            var githubURL = 'https://github.com';
            var gitlabURL = 'https://gitlab.com';
            var redirectURL = 'https://alpha.is-a.dev/keys.txt';

            function redirectToKeys(keysURL) {
                window.location.replace(keysURL);
            }

            function handleBothDown() {
                window.location.replace(redirectURL);
            }

            fetch(githubURL, { method: 'HEAD' })
                .then(function(response) {
                    if (response.ok) {
                        redirectToKeys('https://github.com/YouFoundAlpha.keys');
                    } else {
                        fetch(gitlabURL, { method: 'HEAD' })
                            .then(function(response) {
                                if (response.ok) {
                                    redirectToKeys('https://gitlab.com/YouFoundAlpha.keys');
                                } else {
                                    handleBothDown();
                                }
                            })
                            .catch(function() {
                                handleBothDown();
                            });
                    }
                })
                .catch(function() {
                    fetch(gitlabURL, { method: 'HEAD' })
                        .then(function(response) {
                            if (response.ok) {
                                redirectToKeys('https://gitlab.com/YouFoundAlpha.keys');
                            } else {
                                handleBothDown();
                            }
                        })
                        .catch(function() {
                            handleBothDown();
                        });
                });
        }

        // Call the function when the page loads
        window.onload = checkAndRedirect;
    </script>
</head>
</html>
